<meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><style>body{margin:0;background:#000}b{display:flex;justify-content:center;align-items:center}canvas{height:100vmin;width:100vmin}</style><b><canvas></canvas></b><script>function t(t,e){let a=1e4*m(g++);return f((a-f(a))*(e-t)+t)}function e(e){return e.splice(t(0,e.length),1)[0]}function a(t,e,a=1,n=0){let v=d(n),b=m(n);return new Float32Array([v*a,b*a,0,0,-b*a,v*a,0,0,0,0,1,0,t,e,0,1])}function n(t){let[e,a]=t,n=l(e*e+a*a);return[e/n,a/n]}function v(t,e){document.title=`Current: ${t}, Max: ${e}`}function b(t,e,a){let n=t.createShader(e?t.FRAGMENT_SHADER:t.VERTEX_SHADER);return t.shaderSource(n,a),t.compileShader(n),n}function r(e,a,n){return e+n*(a-e)}function o(e){return c(4*Math.log2(e+1)+2)}function p(t,e){return t*s(2,(e-49)/12)}function i(){let t=k.gl;t.clear(t.COLOR_BUFFER_BIT),V.draw(),u.requestAnimationFrame(i)}var s=Math.pow,l=Math.sqrt,d=Math.cos,m=Math.sin,c=Math.floor;let u=window,f=c,h={lastFrame:Date.now(),delta:0};let g=c(1e4*Math.random());var S={INITIAL_PLAYER_SPEED:1.2,TRANSITION:350,RENDER_AOE:4,MAX_TOUCH_DISTANCE:150,TIME_DILATION:1,CAMERA_SCALE:12,MINIMAP_DURATION:15000,SHIELD_DURATION:1e4};class A{constructor(t=0,e=0){this.x=t,this.y=e}subtract(t){return new A(this.x-t.x,this.y-t.y)}add(t){return t instanceof A?new A(this.x+t.x,this.y+t.y):new A(this.x+t,this.y+t)}multiply(t){return t instanceof A?new A(this.x*t.x,this.y*t.y):new A(this.x*t,this.y*t)}dist2(t){let e=t?this.subtract(t):this;return e.x*e.x+e.y*e.y}dist(t){return l(this.dist2(t))}normalize(){let t=this.dist();return new A(this.x/t,this.y/t)}}class T{constructor(t,e){this.untouched=[],this.children=[],this.touched=!1,this.distance=0,this.time=0,this.position=new A(t,e)}passable(t,e,a=0){if(0.5>t?t-=a:t+=a,0.5>e?e-=a:e+=a,t=c(t),e=c(e),this.position.x===t&&this.position.y===e)return!0;for(let n of this.children)if(n.position.x===c(t)&&n.position.y===c(e))return!0;return!1}draw(e){let{x:n,y:v}=this.position,b=e.renderer,r=b.gl;b.modelMat=a(n,v),b.setMatrices();let o=c(e.player.position.x)===n&&c(e.player.position.y)===v;r.uniform1i(e.mazeShaders.playerSpace,o?1:0),r.uniform1i(e.mazeShaders.squareState,this===e.start?0:this===e.end?1:this.touched?2:3);let i=this.time?(Date.now()-this.time)/S.TRANSITION:0;1<i&&(i=1),r.uniform1f(e.mazeShaders.t,i);let t=Date.now()/1e3%1;r.uniform1f(e.mazeShaders.pulse,t),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}class y{constructor(t,e){this.width=t,this.height=e,this.nodes={}}get(t,e){let a=[t,e].toString();if(t>=this.width||e>=this.height||0>t||0>e)return null;let n=this.nodes[a];return n||(n=this.nodes[a]=new T(t,e)),n}draw(t,e){t.mazeShaders.use();let a=t.renderer,n=a.gl;for(let v in n.bindBuffer(n.ARRAY_BUFFER,a.squareBuffer),n.vertexAttribPointer(t.mazeShaders.vertPos,2,n.FLOAT,!1,0,0),n.uniform1i(t.mazeShaders.isMinimap,e?1:0),this.nodes){let e=this.nodes[v];e.draw(t)}}}var x=function(a,n){let v=new y(a,n),b=[[-1,0],[1,0],[0,-1],[0,1]];for(let t=0;t<a;t++)for(let e=0;e<n;e++){let a=v.get(t,e);for(let n of b){let b=v.get(t+n[0],e+n[1]);b&&a.untouched.push(b)}}let r=v.get(t(0,a),t(0,n)),o=[r];let i=r;for(;o.length;){let t=o[0];if(t.touched=!0,!t.untouched.length){o.shift();continue}let a=e(t.untouched);a.touched||(a.untouched.splice(a.untouched.indexOf(t),1),a.children.push(t),a.distance=t.distance+1,a.distance>i.distance&&(i=a),t.children.push(a),a.touched=!0,o.splice(0,0,a))}return[v,r,i]};let I="precision mediump float;attribute vec2 n;uniform mat4 q,s,t;varying vec2 d;void main(){gl_Position=t*s*q*vec4(n,0,1),d=n;}",w={fade:"f",modelMat:"q",viewMat:"s",projMat:"t",hp:"g",t:"j",squareState:"k",isMinimap:"m",playerSpace:"o",pulse:"l"},E={vertPos:"n"};let R;class _{constructor(t,...e){this.renderer=t;let a=this.shaderProgram=R.createProgram();for(let n=0;2>n;n+=1)R.attachShader(a,b(R,n,e[n]));for(let n in R.linkProgram(a),this.use(),w)this[n]=R.getUniformLocation(a,w[n]);for(let n in E)this[n]=R.getAttribLocation(a,E[n]),R.enableVertexAttribArray(this[n])}use(){this.renderer.use(this)}}class P{constructor(t,e){this.bulletScale=0.05,this.bulletSpeed=0.6,this.position=new A(t,e)}draw(t){let e=t.renderer,n=e.gl;t.bulletShaders.use(),e.modelMat=a(this.position.x-this.bulletScale/2,this.position.y-this.bulletScale/2,this.bulletScale),e.setMatrices(),n.drawArrays(n.TRIANGLE_STRIP,0,4)}simulate(t){let e=this.position.x+this.vector.x*this.bulletSpeed*h.delta,n=this.position.y+this.vector.y*this.bulletSpeed*h.delta,a=t.grid.get(c(this.position.x),c(this.position.y)),v=t.player;if(a!==t.start&&a!==t.end&&a.passable(e,n,0.02)){let{x:r,y:o}=v.position;if(a.passable(r,o)&&t.grid.get(c(r),c(o))!==t.start){let t=e-r,a=n-o;if(t*t+a*a<0.04*0.04)return v.attack(0.06),!1}return this.position.x=e,this.position.y=n,!0}return!1}}class M{constructor(t,e,a,n){this.level=a,this.distance=n,this.position=new A(t,e)}}class L{constructor(t,e){this.position=new A(t,e)}}class N extends L{constructor(t,e){super(t+0.5,e+0.5),this.shieldScale=0.5,this.fade=0}draw(t){let e=t.renderer,n=e.gl;t.shieldProgram.use(),n.uniform1f(t.shieldProgram.fade,this.fade),e.modelMat=a(this.position.x-this.shieldScale/2,this.position.y-this.shieldScale/2,this.shieldScale),e.setMatrices(),n.drawArrays(n.TRIANGLE_STRIP,0,4)}simulate(t){let{player:e}=t;if(!this.grabbed)0.05>e.position.dist2(this.position)&&(this.grabbed=Date.now(),t.player.shield=Date.now());else if(this.fade=(Date.now()-this.grabbed)*S.TIME_DILATION/300,1<this.fade)return!1;return!0}}class D extends L{constructor(t,e){super(t+0.5,e+0.5),this.fade=0}draw(t){var e=Math.PI;let n=1/t.grid.height,v=t.renderer,b=v.gl,r=Date.now(),o=d(2*(r/1e3%e)),i=m(2*(r/1e3%e)),p=t.renderer.camera,s=S.CAMERA_SCALE,l=o*n,c=i*n,u=this.position.subtract(t.player.position);v.camera=new Float32Array([l,c,0,0,-c,l,0,0,0,0,1,0,s*(u.x-0.1*(l+c)),s*(u.y-0.2*(l-c)),1,1]),t.dropShadowShaders.use(),b.uniform1f(t.dropShadowShaders.fade,this.fade),v.modelMat=a(-0.1/n,-0.1/n,1.2*t.grid.height),v.setMatrices(),b.drawArrays(b.TRIANGLE_STRIP,0,4),t.mazeShaders.use(),b.uniform1f(t.mazeShaders.fade,this.fade),t.grid.draw(t,!0),b.uniform1f(t.mazeShaders.fade,0),t.renderer.camera=p}simulate(t){let{player:e}=t;if(!this.grabbed)0.05>e.position.dist2(this.position)&&(this.grabbed=Date.now(),t.minimapActivated=Date.now());else if(this.fade=(Date.now()-this.grabbed)*S.TIME_DILATION/300,1<this.fade)return!1;return!0}}class F extends M{constructor(t,e,a,n){super(t,e,a,n),this.maxEnemyScale=0.2,this.maxExplosionScale=0.7,this.explosionScale=0,this.currentSpeed=0,this.chaseTime=2500,this.accelTime=600,this.explodeTime=500,this.spent=!1,this.enemyScale=this.maxEnemyScale,this.maxSpeed=0.8*S.INITIAL_PLAYER_SPEED}draw(t){let e=t.renderer,n=e.gl;t.proximityProgram.use(),e.modelMat=a(this.position.x-this.enemyScale/2,this.position.y-this.enemyScale/2,this.enemyScale),e.setMatrices(),n.drawArrays(n.TRIANGLE_STRIP,0,4),t.explosionProgram.use(),e.modelMat=a(this.position.x-this.explosionScale/2,this.position.y-this.explosionScale/2,this.explosionScale),e.setMatrices(),n.drawArrays(n.TRIANGLE_STRIP,0,4)}simulate(t){let e=t.grid.get(c(this.position.x),c(this.position.y)),a=t.player,{x:n,y:v}=a.position,b=a.position.subtract(this.position),o=b.normalize(),i=b.dist2(),p=e.passable(c(n),c(v));if(!this.startTime&&0.5>i&&p)this.startTime=Date.now();else if(this.startTime){let e=(Date.now()-this.startTime)*S.TIME_DILATION;if(e<this.chaseTime){if(1e-3<i&&p){let e=(Date.now()-this.startTime)/this.accelTime,t=r(0,this.maxSpeed,1<e?1:e);this.position=this.position.add(o.multiply(t*h.delta))}}else if(e<this.chaseTime+this.explodeTime){e-=this.chaseTime;let n;e>this.explodeTime/2?(n=2-2*e/this.explodeTime,this.enemyScale=this.maxEnemyScale*n):n=2*e/this.explodeTime,this.explosionScale=this.maxExplosionScale*n;let v=s((this.explosionScale+a.playerScale)/2,2);for(let e of t.entities)if(e instanceof C){let t=this.position.subtract(e.position),a=t.dist2();a<s((this.explosionScale+e.enemyScale)/2,2)&&(e.dying=!0)}!this.spent&&i<v&&(a.attack(0.25),this.spent=!0)}else return!1}return!0}}class C extends M{constructor(t,e,a,n){super(t,e,a,n),this.maxEnemyScale=0.13,this.prevShotTime=Date.now(),this.dying=!1,this.enemyScale=this.maxEnemyScale}draw(t){let e=t.renderer,n=e.gl;t.shooterProgram.use(),e.modelMat=a(this.position.x-this.enemyScale/2,this.position.y-this.enemyScale/2,this.enemyScale),e.setMatrices(),n.drawArrays(n.TRIANGLE_STRIP,0,4)}simulate(t){if(this.dying){if(!this.dieStart)this.dieStart=Date.now();else{let e=(Date.now()-this.dieStart)*S.TIME_DILATION;if(this.enemyScale=r(this.enemyScale,0,e),0>=this.enemyScale)return!1}return!0}if(1e3<Date.now()-this.prevShotTime){this.prevShotTime=Date.now();let e=t.player.position.subtract(this.position).normalize();let a=new P(this.position.x,this.position.y);a.vector=e,t.pendingEntities.push(a)}return!0}}let O=0.04;class B{constructor(t){this.game=t,this.hp=0,this.speed=S.INITIAL_PLAYER_SPEED,this.actualHP=1,this.playerScale=O,this.shield=0;let e=t.renderer;this.program=new _(e,I,"precision mediump float;uniform float g;varying vec2 d;float e(float a,float b){float c=a<1.-2.*b?1.:a>1.?0.:1.-(a-(1.-2.*b))/.1;return c*c;}void main(){vec2 b=d-.5;float c=e(distance(vec2(0,0),b)*2.,.05);vec4 a=mix(vec4(1,0,0,1),vec4(0,1,0,1),g);a.a=c,gl_FragColor=a;}"),this.shieldProgram=new _(e,I,"precision mediump float;varying vec2 d;float h(float a){return 1.-a*a;}float e(float a,float b){float c=a<1.-2.*b?1.:a>1.?0.:1.-(a-(1.-2.*b))/.1;return c*c;}void main(){vec2 c=d-.5;float p=distance(c,vec2(0,0)),i=e(distance(vec2(0,0),c)*2.,.05),a=h((p-.8)/.5);a=a<0.?0.:a;vec4 b=mix(vec4(0,0,0,0),vec4(0,1,1,1),a);b.a=b.a<i?b.a:i,gl_FragColor=b;}")}start(t,e){this.position=new A(t+0.5,e+0.5)}attack(t){(Date.now()-this.shield)*S.TIME_DILATION<S.SHIELD_DURATION||this.game.grid.get(c(this.position.x),c(this.position.y))===this.game.start||(this.actualHP-=t,0>this.actualHP&&(this.actualHP=0))}simulate(){this.hp+=0.9*((this.actualHP-this.hp)*h.delta),0.15>this.hp&&0.15>this.actualHP&&(this.actualHP=0)}draw(){let t=this.game.renderer,e=t.gl,n=(Date.now()-this.shield)*S.TIME_DILATION;if(n<S.SHIELD_DURATION){this.shieldProgram.use();let v=400,b=n<v?n/v:S.SHIELD_DURATION-n<v?(S.SHIELD_DURATION-n)/v:1,r=2*O*b;t.modelMat=a(this.position.x-r/2,this.position.y-r/2,r),t.setMatrices(),e.drawArrays(e.TRIANGLE_STRIP,0,4)}this.program.use(),e.bindBuffer(e.ARRAY_BUFFER,t.squareBuffer),e.vertexAttribPointer(this.program.vertPos,2,e.FLOAT,!1,0,0),t.modelMat=a(this.position.x-O/2,this.position.y-O/2,O),t.setMatrices(),e.uniform1f(this.program.hp,this.hp),e.drawArrays(e.TRIANGLE_STRIP,0,4)}}class H{constructor(t,e,a,n,v,b){this.context=t,this.parent=e,this.channel=a,this.ticksPerBeat=n,this.beatsPerMinute=v,this.beatsPerBar=b,this.oscillatorPool=[],this.gainPool=[]}playSequence(t,e){let a=this.channel[1][t],n=60/(this.ticksPerBeat*this.beatsPerMinute);if(a)for(let v of a)for(let a=0;a<v.p.length;a+=1){let b=v.p[a],r=b.t*n+e;for(let t=0;t<v.n.length;t+=1){let e=v.n[t],[n,o]=this.get(t);0==a?o.gain.setValueAtTime(b.v/100,r+0.01):o.gain.exponentialRampToValueAtTime(b.v/100||1e-5,r-0.03),a==v.p.length-1&&o.gain.exponentialRampToValueAtTime(1e-4,r);let i=a==v.p.length-1?0:p(440,e);n.frequency.setValueAtTime(i,r)}}}play(){for(let t=0;t<this.channel[2].length;t+=1){let e=this.channel[2][t]-1;this.playSequence(e,60*(t*this.beatsPerBar)/this.beatsPerMinute)}}get(t){if(t>=this.oscillatorPool.length){let t=this.context.createOscillator(),e=this.context.createGain();e.connect(this.parent),t.connect(e),t.frequency.setValueAtTime(0,0),t.type=this.channel[0].wave,t.start(),this.oscillatorPool.push(t),this.gainPool.push(e)}return[this.oscillatorPool[t],this.gainPool[t]]}}let U=1,q=0,k=new class{constructor(){this.camera=a(-8,-8,0.85,0);let t=document.querySelector("canvas");R=this.gl=t.getContext("webgl");let e=()=>{let e=innerWidth,a=innerHeight;t.width=e,t.height=a;let n=-10,v=10,b=10,r=-10;let o=1/(n-v),i=1/(b-r);this.projMat=new Float32Array([-2*o,0,0,0,0,-2*i,0,0,0,0,2*(1/-160),0,(n+v)*o,(r+b)*i,0,1]),R.viewport(0,0,e,a)};onresize=e,e(),R.clearColor(0,0,0,1),R.blendFunc(R.SRC_ALPHA,R.ONE_MINUS_SRC_ALPHA),R.enable(R.BLEND),this.squareBuffer=R.createBuffer(),R.bindBuffer(R.ARRAY_BUFFER,this.squareBuffer),R.bufferData(R.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),R.STATIC_DRAW)}use(t){this.currentProgram!==t&&(this.currentProgram=t,R.useProgram(t.shaderProgram))}setMatrices(){R.uniformMatrix4fv(this.currentProgram.viewMat,!1,this.camera),R.uniformMatrix4fv(this.currentProgram.modelMat,!1,this.modelMat),R.uniformMatrix4fv(this.currentProgram.projMat,!1,this.projMat)}},V=new class{constructor(t){this.renderer=t,this.downMap={},this.startTime=Date.now(),this.minimapActivated=0,this.level=0,this.maxLevel=0,this.shadowCount=0,this.startVector=[0,0],this.currentVector=[0,0],this.mazeShaders=new _(t,I,"precision mediump float;uniform int k,m,o;uniform float j,l,f;varying vec2 d;float h(float a){return 1.-a*a;}void main(){vec4 i=vec4(0,0,0,f),b=vec4(1,1,1,f);b=k==0?m==1?vec4(1,0,0,1):mod((d.x-d.y)*10.,2.)>1.?vec4(1,1,0,1):vec4(.2,.2,.2,1):k==1?m==1?vec4(0,1,0,1):mod(d.x*10.,2.)>1.&&mod(d.y*10.,2.)>1.||mod(d.x*10.,2.)<1.&&mod(d.y*10.,2.)<1.?vec4(1,1,1,1):vec4(0,0,0,1):k==2?vec4(.5,.5,.5,1):b;vec4 a=mix(vec4(.5,.5,.5,1),b,1.-h(k<2?1.:j));if(m==1&&o==1){float c=l<.5?l/.5:1.-(l-.5)/.5;a=mix(a,vec4(.5,.5,.5,1),c);}a.a=1.-f,gl_FragColor=a;}"),this.shooterProgram=new _(t,I,"precision mediump float;varying vec2 d;float e(float a,float b){float c=a<1.-2.*b?1.:a>1.?0.:1.-(a-(1.-2.*b))/.1;return c*c;}void main(){vec2 a=d-.5;float b=e(distance(vec2(0,0),a)*2.,.05);gl_FragColor=vec4(1,0,0,b);}"),this.bulletShaders=new _(t,I,"precision mediump float;varying vec2 d;float e(float a,float b){float c=a<1.-2.*b?1.:a>1.?0.:1.-(a-(1.-2.*b))/.1;return c*c;}void main(){vec2 a=d-.5;float c=distance(vec2(0,0),a)*2.,b=e(c,.05)*2.,i=(atan(a.y/a.x)+1.)/2.;gl_FragColor=mix(vec4(.1,.1,.1,b),vec4(.2,.3,.8,b),i);}"),this.proximityProgram=new _(t,I,"precision mediump float;varying vec2 d;float e(float a,float b){float c=a<1.-2.*b?1.:a>1.?0.:1.-(a-(1.-2.*b))/.1;return c*c;}void main(){vec2 a=d-.5;float b=e(distance(vec2(0,0),a)*2.,.02);gl_FragColor=vec4(.3,.3,.7,b);}"),this.explosionProgram=new _(t,I,"precision mediump float;varying vec2 d;float e(float a,float b){float c=a<1.-2.*b?1.:a>1.?0.:1.-(a-(1.-2.*b))/.1;return c*c;}void main(){vec2 a=d-.5;float b=e(distance(vec2(0,0),a)*2.,.02);gl_FragColor=vec4(.8,0,0,b);}"),this.shadowShaders=new _(t,I,"precision mediump float;uniform float g;void main(){gl_FragColor=mix(vec4(0,0,0,1.),vec4(1,1,1,1.),g>1.?(g-1.)*2.:0.);}"),this.flashlightShaders=new _(t,I,"precision mediump float;uniform float j,g;varying vec2 d;float h(float a){return 1.-a*a;}float r(float a){return (1.+.2*sin(5e-3*a)+.05*sin(.8*a)+.4*sin(.024*a)+.2*sin(.1*a))/10.;}void main(){vec2 b=d-.5;float a=1.-h(distance(vec2(0,0),b/(.55*g)));a+=r(j),gl_FragColor=mix(vec4(0,0,0,a),vec4(1,1,1,1),g>1.?(g-1.)*2.:0.);}"),this.indicatorShaders=new _(t,I,"precision mediump float;uniform float j;varying vec2 d;float e(float a,float b){float c=a<1.-2.*b?1.:a>1.?0.:1.-(a-(1.-2.*b))/.1;return c*c;}void main(){vec2 a=d-.5;float b=e(distance(vec2(0,0),a)*2.,.05);gl_FragColor=vec4(0,.75,.75,b*.85*j);}"),this.dropShadowShaders=new _(t,I,"precision mediump float;uniform float f;void main(){gl_FragColor=vec4(0,0,0,1.-f);}"),this.shieldProgram=new _(t,I,"precision mediump float;uniform float f;varying vec2 d;float h(float a){return 1.-a*a;}void main(){vec2 c=d-.5;float i=distance(vec2(0,0),c)*2.1;vec2 a=d-vec2(.5,.8);a.x*=23.,a.y*=-36.;bool b=false;b=a.x>-7.&&a.x<7.&&a.y>a.x*a.x/2.5?a.y<(a.x<-3.5?pow(a.x+3.5,2.)/6.+17.5:a.x<0.?pow(a.x+3.5,2.)/1.7+17.5:a.x<3.5?pow(a.x-3.5,2.)/1.7+17.5:pow(a.x-3.5,2.)/6.+17.5):b,gl_FragColor=b?mix(vec4(0,1,1,1.-f),vec4(0,0.,0.,1.-f),1.-h(i+f)):vec4(0,0,0,0);}"),this.player=new B(this),this.buildWorld(),onkeydown=(t)=>{this.downMap[t.key.toLowerCase()]=1},onkeyup=(t)=>{this.downMap[t.key.toLowerCase()]=0};let e=(t)=>{t.preventDefault();let e=t.targetTouches&&t.targetTouches[0]||t;this.startVector=[e.clientX,e.clientY]},a=(t)=>{t.preventDefault(),this.startVector=[0,0]},n=(t)=>{t.preventDefault();let e=t.targetTouches&&t.targetTouches[0]||t;this.currentVector=[e.clientX,e.clientY]};addEventListener("touchstart",e,{passive:!1}),addEventListener("touchend",a,{passive:!1}),addEventListener("touchmove",n,{passive:!1}),onmouseup=a,onmousedown=e,onmousemove=n}buildWorld(){this.entities=[],this.pendingEntities=[],this.minimapActivated=0;let e=o(this.level);[this.grid,this.start,this.end]=x(e,e),v(this.level,this.maxLevel);let a=[F,C],n=[D,N];for(let e in this.grid.nodes){let v=this.grid.nodes[e];if(v!==this.start&&v!==this.end){if(0===t(0,10)){let e=n[t(0,n.length)];this.entities.push(new e(v.position.x,v.position.y))}let e=t(0,2);for(let n=0;n<e;n+=1){let e=a[t(0,a.length)],n=new e(v.position.x+0.2+0.6*Math.random(),v.position.y+0.2+0.6*Math.random(),this.level,v.distance);this.entities.push(n)}}}this.player.start(this.start.position.x,this.start.position.y)}processInput(){let{player:t,grid:e,downMap:a}=this;let{x:v,y:b}=t.position;let r=v,o=b,i=e.get(c(r),c(o));if(!this.startVector[0]&&!this.startVector[1])a.arrowup&&(b-=t.speed*h.delta),a.arrowdown&&(b+=t.speed*h.delta),a.arrowleft&&(v-=t.speed*h.delta),a.arrowright&&(v+=t.speed*h.delta),a.w&&(b-=t.speed*h.delta),a.s&&(b+=t.speed*h.delta),a.a&&(v-=t.speed*h.delta),a.d&&(v+=t.speed*h.delta);else{let e=[this.currentVector[0]-this.startVector[0],this.currentVector[1]-this.startVector[1]];e=e[0]*e[0]>s(S.MAX_TOUCH_DISTANCE,2)?n(e):[e[0]/S.MAX_TOUCH_DISTANCE,e[1]/S.MAX_TOUCH_DISTANCE],v+=e[0]*t.speed*h.delta,b+=e[1]*t.speed*h.delta}let p=0.01,l=p;0.5>r%1&&(p*=-1),0.5>o%1&&(l*=-1),i.passable(v+p,o+l)&&(t.position.x=v),i.passable(r+p,b+l)&&(t.position.y=b),i.touched=!1,i.time||(i.time=Date.now())}buildShadows(){let t=[];let e=500;for(let a in this.grid.nodes){function v(a,v,b,r){let o=n([a-i,v-p]),s=n([b-i,r-p]),l=[a+o[0]*e,v+o[1]*e],d=[b+s[0]*e,r+s[1]*e];t=t.concat([a,v],l,[b,r],l,[b,r],d)}let b=this.grid.nodes[a],{x:r,y:o}=b.position,{x:i,y:p}=this.player.position,s=i-r,l=p-o;s*s+l*l<4&&(!b.passable(r,o-1)&&v(r,o,r+1,o),!b.passable(r-1,o)&&v(r,o,r,o+1))}let{gl:a}=this.renderer;this.shadowBuffer&&a.deleteBuffer(this.shadowBuffer),this.shadowBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.shadowBuffer);let v=new Float32Array(t);a.bufferData(a.ARRAY_BUFFER,v,a.STREAM_DRAW),this.shadowCount=v.length/2}draw(){var t=Math.abs;h.lastFrame+=1e3*h.delta/S.TIME_DILATION,h.delta=(Date.now()-h.lastFrame)/1e3*S.TIME_DILATION,this.processInput();let e=this.player,n=S.CAMERA_SCALE;this.renderer.camera=new Float32Array([n,0,0,0,0,n,0,0,0,0,1,0,-n*e.position.x,-n*e.position.y,1,1]),this.buildShadows();let v=this.renderer.gl;this.grid.draw(this,!1);let b=[];this.entities=this.entities.concat(this.pendingEntities),this.pendingEntities=[];for(let a of this.entities){if(t(e.position.x-a.position.x)>S.RENDER_AOE||t(e.position.y-a.position.y)>S.RENDER_AOE)continue;let n=a.simulate(this);n?a.draw(this):b.push(a)}for(let t of b)this.entities.splice(this.entities.indexOf(t),1);e.simulate(),e.draw(),this.flashlightShaders.use(),this.renderer.modelMat=a(e.position.x-1,e.position.y-1,2),this.renderer.setMatrices(),v.uniform1f(this.flashlightShaders.hp,this.player.hp),v.uniform1f(this.flashlightShaders.t,(Date.now()-this.startTime)/100),v.drawArrays(v.TRIANGLE_STRIP,0,4),this.shadowCount&&(this.shadowShaders.use(),v.bindBuffer(v.ARRAY_BUFFER,this.shadowBuffer),v.vertexAttribPointer(this.mazeShaders.vertPos,2,v.FLOAT,!1,0,0),this.renderer.modelMat=a(0,0,1),this.renderer.setMatrices(),v.uniform1f(this.shadowShaders.hp,this.player.hp),v.drawArrays(v.TRIANGLES,0,this.shadowCount));let r=this.end.position.add(0.5).add(e.position);let o=0.75,i=l(s(r.x,2)+s(r.x,2));let p=0;if(i>o*o&&(r=r.normalize().multiply(o)),p=0.5>i?0:1.5<i?1:i-0.5,this.indicatorShaders.use(),v.bindBuffer(v.ARRAY_BUFFER,this.renderer.squareBuffer),v.vertexAttribPointer(this.indicatorShaders.vertPos,2,v.FLOAT,!1,0,0),this.renderer.modelMat=a(e.position.x-0.02+r.x,e.position.y-0.02+r.y,0.04),this.renderer.setMatrices(),v.uniform1f(this.indicatorShaders.t,p),v.drawArrays(v.TRIANGLE_STRIP,0,4),(Date.now()-this.minimapActivated)*S.TIME_DILATION<S.MINIMAP_DURATION){let t=2/this.grid.height;this.renderer.camera=new Float32Array([t,0,0,0,0,t,0,0,0,0,1,0,8,-10,1,1]),this.grid.draw(this,!0)}(0.01>e.hp&&1>e.actualHP||1.5<=e.hp&&1.5<e.actualHP)&&(1<e.hp?this.level+=1:this.level=0,this.level>this.maxLevel&&(this.maxLevel=this.level),e.actualHP=1,this.buildWorld());let d=this.grid.get(c(e.position.x),c(e.position.y));d===this.end&&(e.actualHP=1.8,this.entities=[])}}(k),z=new class{constructor(t,e,a,n){this.channels=[];let v=new AudioContext,b=v.createGain();b.gain.value=0.01,b.connect(v.destination);for(let r of t){let t=new H(v,b,r,e,a,n);this.channels.push(t)}}play(){for(let t of this.channels)t.play()}}([[{wave:"square",envelope:U,filter:q},[[{n:[49],p:[{t:0,b:0,v:100},{t:4,b:0,v:100}]},{n:[56],p:[{t:4,b:0,v:100},{t:10,b:0,v:100}]},{n:[61],p:[{t:10,b:0,v:100},{t:12,b:0,v:100}]},{n:[59],p:[{t:12,b:0,v:100},{t:23,b:0,v:100}]},{n:[58],p:[{t:24,b:0,v:100},{t:26,b:0,v:100}]},{n:[56],p:[{t:26,b:0,v:100},{t:28,b:0,v:100}]},{n:[58],p:[{t:28,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[56],p:[{t:0,b:0,v:100},{t:8,b:0,v:100}]},{n:[54],p:[{t:8,b:0,v:100},{t:12,b:0,v:100}]},{n:[56],p:[{t:12,b:0,v:100},{t:28,b:0,v:100}]}],[{n:[44,68],p:[{t:0,b:0,v:100},{t:8,b:0,v:100}]},{n:[37],p:[{t:8,b:0,v:100},{t:16,b:0,v:100}]},{n:[43],p:[{t:16,b:0,v:100},{t:28,b:0,v:100}]},{n:[44],p:[{t:30,b:0,v:100},{t:31,b:0,v:100}]},{n:[46],p:[{t:31,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[44],p:[{t:0,b:0,v:100},{t:3,b:0,v:100}]},{n:[41],p:[{t:3,b:0,v:100},{t:6,b:0,v:100}]},{n:[37],p:[{t:6,b:0,v:100},{t:8,b:0,v:100},{t:9,b:5,v:100}]},{n:[43],p:[{t:9,b:0,v:100},{t:16,b:0,v:100}]},{n:[44],p:[{t:16,b:0,v:100},{t:17,b:0,v:100}]},{n:[46],p:[{t:17,b:0,v:100},{t:18,b:0,v:100}]},{n:[44],p:[{t:18,b:0,v:100},{t:22,b:0,v:100}]},{n:[39],p:[{t:22,b:0,v:100},{t:26,b:0,v:100}]},{n:[44],p:[{t:26,b:0,v:100},{t:30,b:0,v:100}]},{n:[51],p:[{t:30,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[51],p:[{t:2,b:0,v:100},{t:11,b:0,v:100}]},{n:[50],p:[{t:11,b:0,v:100},{t:18,b:0,v:100}]},{n:[48],p:[{t:18,b:0,v:100},{t:19,b:0,v:100}]},{n:[50],p:[{t:19,b:0,v:100},{t:20,b:0,v:100}]},{n:[51],p:[{t:20,b:0,v:100},{t:30,b:0,v:100}]},{n:[56],p:[{t:30,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[51],p:[{t:0,b:0,v:100},{t:2,b:0,v:100}]},{n:[56],p:[{t:2,b:0,v:100},{t:4,b:0,v:100}]},{n:[61],p:[{t:4,b:0,v:100},{t:6,b:0,v:100}]},{n:[58],p:[{t:6,b:0,v:100},{t:8,b:0,v:100}]},{n:[63],p:[{t:8,b:0,v:100},{t:10,b:0,v:100}]},{n:[68],p:[{t:10,b:0,v:100},{t:12,b:0,v:100}]},{n:[61],p:[{t:12,b:0,v:100},{t:20,b:0,v:100},{t:21,b:-7,v:100}]},{n:[54],p:[{t:21,b:0,v:100},{t:28,b:0,v:100}]},{n:[60],p:[{t:28,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[60],p:[{t:0,b:0,v:100},{t:8,b:0,v:100}]},{n:[61],p:[{t:11,b:0,v:100},{t:12,b:0,v:100}]},{n:[63],p:[{t:12,b:0,v:100},{t:13,b:0,v:100}]},{n:[61],p:[{t:13,b:0,v:100},{t:16,b:0,v:100}]},{n:[58],p:[{t:16,b:0,v:100},{t:19,b:0,v:100}]},{n:[54],p:[{t:19,b:0,v:100},{t:22,b:0,v:100}]},{n:[60],p:[{t:22,b:0,v:100},{t:28,b:0,v:100}]},{n:[61],p:[{t:28,b:0,v:100},{t:29,b:0,v:100}]},{n:[63],p:[{t:29,b:0,v:100},{t:30,b:0,v:100}]},{n:[61],p:[{t:30,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[61,49],p:[{t:0,b:0,v:100},{t:1,b:-5,v:100}]},{n:[56,44],p:[{t:1,b:0,v:100},{t:6,b:0,v:100}]},{n:[61],p:[{t:6,b:0,v:100},{t:10,b:0,v:100}]},{n:[68],p:[{t:10,b:0,v:100},{t:13,b:0,v:100}]},{n:[68],p:[{t:14,b:0,v:100},{t:20,b:0,v:100}]},{n:[67],p:[{t:22,b:0,v:100},{t:30,b:0,v:100}]},{n:[65],p:[{t:30,b:0,v:100},{t:31,b:0,v:100}]},{n:[67],p:[{t:31,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[68],p:[{t:0,b:0,v:100},{t:24,b:0,v:100}]}],[{n:[66],p:[{t:0,b:0,v:100},{t:6,b:0,v:100}]},{n:[65],p:[{t:6,b:0,v:100},{t:7,b:0,v:100}]},{n:[63],p:[{t:7,b:0,v:100},{t:8,b:0,v:100}]},{n:[65],p:[{t:8,b:0,v:100},{t:11,b:0,v:100}]},{n:[63],p:[{t:11,b:0,v:100},{t:14,b:0,v:100}]},{n:[61],p:[{t:14,b:0,v:100},{t:16,b:0,v:100}]},{n:[63],p:[{t:16,b:0,v:100},{t:24,b:0,v:100}]},{n:[68],p:[{t:28,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[66],p:[{t:0,b:0,v:100},{t:6,b:0,v:100}]},{n:[65],p:[{t:6,b:0,v:100},{t:7,b:0,v:100}]},{n:[63],p:[{t:7,b:0,v:100},{t:8,b:0,v:100}]},{n:[65],p:[{t:8,b:0,v:100},{t:11,b:0,v:100}]},{n:[63],p:[{t:11,b:0,v:100},{t:14,b:0,v:100}]},{n:[61],p:[{t:14,b:0,v:100},{t:16,b:0,v:100}]},{n:[63,75],p:[{t:16,b:0,v:100},{t:30,b:0,v:100}]}],[{n:[61,73],p:[{t:0,b:0,v:100},{t:4,b:0,v:100}]},{n:[65,77],p:[{t:4,b:0,v:100},{t:8,b:0,v:100}]},{n:[68,80],p:[{t:8,b:0,v:100},{t:13,b:0,v:100}]},{n:[70,82],p:[{t:13,b:0,v:100},{t:16,b:0,v:100}]},{n:[71,83],p:[{t:16,b:0,v:100},{t:21,b:0,v:100}]},{n:[61,73],p:[{t:21,b:0,v:100},{t:22,b:0,v:100}]},{n:[65,77],p:[{t:22,b:0,v:100},{t:25,b:0,v:100}]},{n:[70,82],p:[{t:25,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[66,54],p:[{t:0,b:0,v:100},{t:6,b:0,v:100},{t:7,b:-2,v:100}]},{n:[63,51],p:[{t:7,b:0,v:100},{t:9,b:0,v:100}]},{n:[63,51],p:[{t:10,b:0,v:100},{t:29,b:0,v:100}]}],[],[],[],[],[],[],[]],[1,2,3,4,5,6,7,8,9,10,11,12,13,0,0,0]],[{wave:"square",envelope:U,filter:q},[[{n:[61],p:[{t:3,b:0,v:100},{t:4,b:12,v:100}]},{n:[61,73],p:[{t:4,b:0,v:100},{t:8,b:0,v:100}]},{n:[70],p:[{t:25,b:0,v:100},{t:26,b:0,v:100}]},{n:[70],p:[{t:26,b:0,v:100},{t:27,b:0,v:100}]},{n:[73,61],p:[{t:27,b:0,v:100},{t:30,b:0,v:100}]}],[{n:[73,61],p:[{t:13,b:0,v:100},{t:16,b:0,v:100}]},{n:[39],p:[{t:22,b:0,v:100},{t:26,b:0,v:100}]},{n:[44],p:[{t:26,b:0,v:100},{t:30,b:0,v:100}]},{n:[51],p:[{t:30,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[51],p:[{t:2,b:0,v:100},{t:11,b:0,v:100}]},{n:[50],p:[{t:11,b:0,v:100},{t:18,b:0,v:100}]},{n:[48],p:[{t:18,b:0,v:100},{t:19,b:0,v:100}]},{n:[50],p:[{t:19,b:0,v:100},{t:20,b:0,v:100}]},{n:[51],p:[{t:20,b:0,v:100},{t:31,b:0,v:100}]}],[{n:[37],p:[{t:0,b:0,v:100},{t:4,b:0,v:100}]},{n:[44],p:[{t:4,b:0,v:100},{t:10,b:0,v:100}]},{n:[49],p:[{t:10,b:0,v:100},{t:12,b:0,v:100}]},{n:[47],p:[{t:12,b:0,v:100},{t:23,b:0,v:100}]},{n:[46],p:[{t:24,b:0,v:100},{t:26,b:0,v:100}]},{n:[44],p:[{t:26,b:0,v:100},{t:28,b:0,v:100}]},{n:[46],p:[{t:28,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[44],p:[{t:0,b:0,v:100},{t:8,b:0,v:100}]},{n:[42],p:[{t:8,b:0,v:100},{t:12,b:0,v:100}]},{n:[44],p:[{t:12,b:0,v:100},{t:28,b:0,v:100}]}],[{n:[49],p:[{t:14,b:0,v:100},{t:15,b:0,v:100},{t:16,b:17,v:100}]},{n:[66,78],p:[{t:16,b:0,v:100},{t:19,b:0,v:100}]},{n:[42],p:[{t:20,b:0,v:100},{t:28,b:0,v:100}]},{n:[48],p:[{t:28,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[48],p:[{t:0,b:0,v:100},{t:4,b:0,v:100}]},{n:[63],p:[{t:6,b:0,v:100},{t:7,b:0,v:100}]},{n:[63],p:[{t:7,b:0,v:100},{t:8,b:0,v:100}]},{n:[66,78],p:[{t:8,b:0,v:100},{t:10,b:0,v:100}]},{n:[49],p:[{t:11,b:0,v:100},{t:12,b:0,v:100}]},{n:[51],p:[{t:12,b:0,v:100},{t:13,b:0,v:100}]},{n:[49],p:[{t:13,b:0,v:100},{t:16,b:0,v:100}]},{n:[46],p:[{t:16,b:0,v:100},{t:19,b:0,v:100}]},{n:[42],p:[{t:19,b:0,v:100},{t:22,b:0,v:100}]},{n:[48],p:[{t:22,b:0,v:100},{t:25,b:0,v:100}]},{n:[66],p:[{t:26,b:0,v:100},{t:28,b:0,v:100}]},{n:[49],p:[{t:28,b:0,v:100},{t:29,b:0,v:100}]},{n:[51],p:[{t:29,b:0,v:100},{t:30,b:0,v:100}]},{n:[49],p:[{t:30,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[49,61],p:[{t:0,b:0,v:100},{t:1,b:0,v:100}]},{n:[44,56],p:[{t:1,b:0,v:100},{t:6,b:0,v:100}]},{n:[61],p:[{t:6,b:0,v:100},{t:10,b:0,v:100}]},{n:[68],p:[{t:10,b:0,v:100},{t:13,b:0,v:100}]},{n:[68],p:[{t:14,b:0,v:100},{t:20,b:0,v:100}]},{n:[77],p:[{t:30,b:0,v:100},{t:31,b:0,v:100}]},{n:[79],p:[{t:31,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[68],p:[{t:0,b:0,v:100},{t:27,b:0,v:100}]}],[{n:[63,60,56],p:[{t:16,b:0,v:100},{t:22,b:0,v:100}]},{n:[63,60],p:[{t:22,b:0,v:100},{t:23,b:0,v:100}]},{n:[63,60],p:[{t:23,b:0,v:100},{t:24,b:0,v:100}]},{n:[63,60,56],p:[{t:24,b:0,v:100},{t:29,b:0,v:100}]}],[{n:[63,51],p:[{t:16,b:0,v:100},{t:17,b:0,v:100}]},{n:[63,51],p:[{t:17,b:0,v:100},{t:18,b:0,v:100}]},{n:[63,51],p:[{t:18,b:0,v:100},{t:20,b:0,v:100}]},{n:[63,51],p:[{t:21,b:0,v:100},{t:22,b:0,v:100}]},{n:[63,51],p:[{t:22,b:0,v:100},{t:25,b:0,v:100}]},{n:[63,51],p:[{t:25,b:0,v:100},{t:27,b:0,v:100}]},{n:[46],p:[{t:27,b:0,v:100},{t:30,b:0,v:100}]},{n:[48],p:[{t:30,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[49],p:[{t:0,b:0,v:100},{t:4,b:0,v:100}]},{n:[48],p:[{t:4,b:0,v:100},{t:5,b:0,v:100}]},{n:[46],p:[{t:5,b:0,v:100},{t:8,b:0,v:100}]},{n:[48],p:[{t:8,b:0,v:100},{t:11,b:0,v:100}]},{n:[44],p:[{t:11,b:0,v:100},{t:16,b:0,v:100}]},{n:[44],p:[{t:16,b:0,v:100},{t:17,b:7,v:100},{t:20,b:7,v:100}]},{n:[49],p:[{t:20,b:0,v:100},{t:21,b:0,v:100}]},{n:[47],p:[{t:21,b:0,v:100},{t:25,b:0,v:100}]},{n:[49],p:[{t:25,b:0,v:100},{t:28,b:0,v:100}]},{n:[42],p:[{t:28,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[66,54],p:[{t:0,b:0,v:100},{t:5,b:0,v:100},{t:7,b:-3,v:100}]},{n:[63,51],p:[{t:7,b:0,v:100},{t:9,b:0,v:100}]},{n:[63,51],p:[{t:10,b:0,v:100},{t:29,b:0,v:100}]}],[],[],[],[],[],[],[]],[4,5,1,2,3,6,7,8,9,10,11,12,13,0,0,0]],[{wave:"square",envelope:U,filter:0},[[{n:[25],p:[{t:3,b:0,v:100},{t:4,b:12,v:100}]},{n:[37],p:[{t:4,b:0,v:100},{t:6,b:0,v:100}]},{n:[13],p:[{t:11,b:0,v:100},{t:12,b:0,v:100}]},{n:[13],p:[{t:15,b:0,v:100},{t:16,b:0,v:100}]},{n:[13],p:[{t:19,b:0,v:100},{t:20,b:0,v:100}]},{n:[13],p:[{t:23,b:0,v:100},{t:24,b:0,v:100}]},{n:[34],p:[{t:25,b:0,v:100},{t:26,b:0,v:100}]},{n:[34],p:[{t:26,b:0,v:100},{t:27,b:0,v:100}]},{n:[37],p:[{t:27,b:0,v:100},{t:29,b:0,v:100}]},{n:[13],p:[{t:31,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[13],p:[{t:3,b:0,v:100},{t:4,b:0,v:100}]},{n:[13],p:[{t:7,b:0,v:100},{t:8,b:0,v:100}]},{n:[13],p:[{t:11,b:0,v:100},{t:12,b:0,v:100}]},{n:[27],p:[{t:12,b:0,v:100},{t:13,b:9,v:100}]},{n:[37,25],p:[{t:13,b:0,v:100},{t:15,b:0,v:100}]},{n:[13],p:[{t:19,b:0,v:100},{t:20,b:0,v:100}]},{n:[24],p:[{t:22,b:0,v:100},{t:26,b:0,v:100}]},{n:[29],p:[{t:29,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[34],p:[{t:2,b:0,v:100},{t:11,b:0,v:100}]},{n:[34],p:[{t:13,b:0,v:100},{t:16,b:0,v:100}]},{n:[27],p:[{t:20,b:0,v:100},{t:30,b:0,v:100}]}],[{n:[28],p:[{t:12,b:0,v:100},{t:24,b:0,v:100}]},{n:[30],p:[{t:28,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[30],p:[{t:0,b:0,v:100},{t:8,b:0,v:100}]},{n:[32],p:[{t:12,b:0,v:100},{t:28,b:0,v:100}]}],[{n:[18],p:[{t:15,b:0,v:100},{t:16,b:12,v:100}]},{n:[30],p:[{t:16,b:0,v:100},{t:18,b:0,v:100}]},{n:[18],p:[{t:23,b:0,v:100},{t:24,b:0,v:100}]},{n:[18],p:[{t:27,b:0,v:100},{t:28,b:0,v:100}]},{n:[18],p:[{t:31,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[18],p:[{t:3,b:0,v:100},{t:4,b:0,v:100}]},{n:[18],p:[{t:7,b:0,v:100},{t:8,b:0,v:100}]},{n:[18],p:[{t:11,b:0,v:100},{t:12,b:0,v:100}]},{n:[18],p:[{t:15,b:0,v:100},{t:16,b:0,v:100}]},{n:[18],p:[{t:19,b:0,v:100},{t:20,b:0,v:100}]},{n:[18],p:[{t:23,b:0,v:100},{t:24,b:0,v:100}]},{n:[18],p:[{t:24,b:0,v:100},{t:26,b:12,v:100}]},{n:[30],p:[{t:26,b:0,v:100},{t:28,b:0,v:100}]}],[{n:[29],p:[{t:1,b:0,v:100},{t:5,b:0,v:100}]},{n:[34],p:[{t:9,b:0,v:100},{t:13,b:0,v:100}]},{n:[27],p:[{t:18,b:0,v:100},{t:22,b:0,v:100}]},{n:[27],p:[{t:25,b:0,v:100},{t:29,b:0,v:100}]},{n:[41],p:[{t:30,b:0,v:100},{t:31,b:0,v:100}]},{n:[43],p:[{t:31,b:0,v:100},{t:32,b:0,v:100}]}],[{n:[20],p:[{t:0,b:0,v:100},{t:26,b:0,v:100}]}],[{n:[27],p:[{t:0,b:0,v:100},{t:6,b:0,v:100}]},{n:[29],p:[{t:8,b:0,v:100},{t:14,b:0,v:100}]},{n:[32],p:[{t:16,b:0,v:100},{t:22,b:0,v:100}]}],[{n:[35],p:[{t:0,b:0,v:100},{t:6,b:0,v:100}]},{n:[37],p:[{t:8,b:0,v:100},{t:14,b:0,v:100}]},{n:[39],p:[{t:16,b:0,v:100},{t:17,b:0,v:100}]},{n:[39],p:[{t:17,b:0,v:100},{t:18,b:0,v:100}]},{n:[39],p:[{t:18,b:0,v:100},{t:20,b:0,v:100}]},{n:[39],p:[{t:21,b:0,v:100},{t:22,b:0,v:100}]},{n:[39],p:[{t:22,b:0,v:100},{t:25,b:0,v:100}]},{n:[39],p:[{t:25,b:0,v:100},{t:28,b:0,v:100}]}],[{n:[30],p:[{t:0,b:0,v:100},{t:6,b:0,v:100}]},{n:[29],p:[{t:8,b:0,v:100},{t:14,b:0,v:100}]},{n:[28],p:[{t:16,b:0,v:100},{t:22,b:0,v:100}]},{n:[27],p:[{t:24,b:0,v:100},{t:31,b:0,v:100}]}],[{n:[21],p:[{t:0,b:0,v:100},{t:29,b:0,v:100}]}],[],[],[],[],[],[],[]],[4,5,1,2,3,6,7,8,9,10,11,12,13,0,0,0]],[{wave:"square",envelope:2},[[{n:[10],p:[{t:20,b:0,v:100},{t:22,b:0,v:100},{t:30,b:-2,v:100},{t:32,b:1,v:0}]}],[{n:[8],p:[{t:14,b:0,v:100},{t:18,b:0,v:0},{t:20,b:-4,v:0}]},{n:[7],p:[{t:22,b:0,v:100},{t:27,b:0,v:0},{t:29,b:-6,v:0}]}],[{n:[2],p:[{t:0,b:0,v:100},{t:29,b:9,v:0},{t:32,b:9,v:0}]}],[{n:[9,7],p:[{t:0,b:0,v:100},{t:3,b:0,v:0}]},{n:[9,7],p:[{t:8,b:0,v:100},{t:11,b:0,v:0}]},{n:[9,7],p:[{t:16,b:0,v:100},{t:19,b:0,v:0}]}],[{n:[11,9],p:[{t:0,b:0,v:100},{t:10,b:0,v:0}]},{n:[11,9],p:[{t:10,b:0,v:100},{t:13,b:-2,v:100},{t:15,b:-2,v:100},{t:29,b:-6,v:100},{t:30,b:-6,v:100},{t:32,b:-9,v:0}]}],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],[0,0,0,0,1,0,0,2,3,4,4,0,5,0,0,0]]],4,151,8);i()</script>